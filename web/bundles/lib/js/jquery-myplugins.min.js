jQuery.scrollTo=function(elemOrPos,time){time=time||800;var pos=0;switch(typeof elemOrPos){case"number":pos=elemOrPos;break;case"object":pos=$(elemOrPos).offset().top;break;case"string":pos=parseInt(elemOrPos);break}$("html").animate({scrollTop:pos},time)};var _togShowText="показване";var _togHideText="скриване";jQuery.fn.boxcollapse=function(putLink){var ret=this.each(function(){putLink=typeof putLink=="undefined"?true:putLink;var $heading=$($(":header,legend",this)[0]);if(!$heading.length){return}var $box=$(this);var $boxContents=$heading.siblings().not(".sr-only");if($boxContents.length===0){$boxContents=$heading.parent().siblings().not(".sr-only")}var contentIsShown=true;var toggleContents=function(){$boxContents.toggle();$box.toggleClass("collapsed");contentIsShown=!contentIsShown};if(putLink){var $toggleLink=$("<a/>").text(_togHideText).click(function(){$toggleLink.text(contentIsShown?_togShowText:_togHideText);toggleContents();return false});$("<span/>").addClass("collapsible-ctrl").append($toggleLink).appendTo($heading)}else{$heading.addClass("pseudolink").click(function(){toggleContents()});var $toggleLink=$heading}if($box.is(".collapsed")){$toggleLink.click();$box.addClass("collapsed")}});if(location.hash){location.href=location.hash}return ret};jQuery.fn.disable=function(){return this.each(function(){$(this).attr("disabled","disabled")})};jQuery.fn.loading=function(){return this.each(function(){$(this).addClass("loading")})};jQuery.fn.isLoading=function(){return $(this).is(".loading")};jQuery.fn.loaded=function(){return this.each(function(){$(this).removeClass("loading")})};jQuery.myget=function(method,data,callback,type,extraArgs){return jQuery.get(jQuery.myurl(method,extraArgs),data,callback,type)};jQuery.mypost=function(method,data,callback,type,extraArgs){return jQuery.post(jQuery.myurl(method,extraArgs),data,callback,type)};jQuery.myurl=function(method,extraArgs){var action=mgSettings.action;if(method.indexOf(".")!=-1){var p=method.split(".");action=p[0];method=p[1]}url=mgSettings.webroot+"?action="+action+"&"+mgSettings.varAjaxFunc+"="+encodeURIComponent(method);if(typeof extraArgs!="undefined"){url+="&"+extraArgs}return url};